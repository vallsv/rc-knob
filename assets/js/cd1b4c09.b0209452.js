"use strict";(globalThis.webpackChunkrc_knob_docs=globalThis.webpackChunkrc_knob_docs||[]).push([[389],{2721(e,t,n){n.r(t),n.d(t,{assets:()=>x,contentTitle:()=>m,default:()=>f,frontMatter:()=>g,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"examples/async","title":"Async","description":"Example with physical motors","source":"@site/docs/3_examples/4_async.mdx","sourceDirName":"3_examples","slug":"/examples/async","permalink":"/rc-knob/examples/async","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Async","description":"Example with physical motors"},"sidebar":"tutorialSidebar","previous":{"title":"Gradient","permalink":"/rc-knob/examples/gradient"}}');var a=n(2540),s=n(3023),o=n(3696);const r=({initialPosition:e,target:t=null,velocity:n=1,onChange:i=()=>{}})=>{const s=Date.now(),[r,l]=o.useState(e),[c,u]=o.useState(s),d=(e,t)=>null!==e&&e!==t;return o.useEffect(()=>{const e=setInterval(()=>{(()=>{const e=Date.now(),a=(e-c)/1e3;let s=r;if(u(e),d(t,s)){const e=a*n;e>Math.abs(s-t)?s=t:s+=(t>s?1:-1)*e,l(s),i(s)}})()},1e3);return()=>clearInterval(e)},[t,c,r]),(0,a.jsxs)("div",{children:["Position: ",r.toFixed(2)," ",(0,a.jsx)("br",{}),"Target: ",d(t,r)?t.toFixed(2):"----"]})};var l=n(2561);function c({size:e,value:t,target:n=null,onChange:i=()=>{}}){const[s,r]=o.useState(null);const c=10,u=.5*e-20,d=null!==s?s:n;return(0,a.jsxs)(l.N6,{size:e,value:t,angleOffset:0,angleRange:360,min:0,max:360,onChange:i,onInteractiveChange:function(e){r(e)},onEnd:function(e){r(null)},tracking:!1,children:[(0,a.jsx)("circle",{r:u+c,cx:e/2,cy:e/2,fill:"transparent",stroke:"#ced4da",strokeWidth:c}),null!==d?(0,a.jsx)(l.Q6,{percentageFrom:t/360,percentageTo:d/360,radius:u+15,color:"#ff9800",arcWidth:c}):"",null!==d?(0,a.jsx)(l.gm,{percentage:d/360,width:c,height:c,radius:u,type:"circle",color:"#ff9800"}):"",(0,a.jsx)(l.gm,{percentage:t/360,width:c,height:c,radius:u,type:"circle",color:"#000"}),(0,a.jsx)(l.WT,{value:null!==s?s:t,decimalPlace:2,marginBottom:e/2,className:"knob-text"})]})}function u(){const[e,t]=o.useState(45),[n,i]=o.useState(null);return(0,a.jsxs)("div",{children:[(0,a.jsx)(c,{size:120,target:n,origin:"up",min:-9999,max:9999,value:e,onChange:function(e){i(e)}}),(0,a.jsx)(r,{initialPosition:45,onChange:function(e){t(e)},velocity:30,target:n})]})}function d({size:e,value:t,target:n=null,onChange:i=()=>{}}){const[s,r]=o.useState(null);const c=10,u=.5*e-20,d=null!==s?s:n;let h=Math.abs(d-t)/360*c*1.5;return h>u&&(h=u),(0,a.jsxs)(l.N6,{size:e,value:t,angleOffset:0,angleRange:360,min:0,max:360,onChange:i,onInteractiveChange:function(e){r(e)},onEnd:function(e){r(null)},tracking:!1,multiRotation:!0,children:[(0,a.jsx)("circle",{r:u+c,cx:e/2,cy:e/2,fill:"transparent",stroke:"#ced4da",strokeWidth:c}),null!==d?(0,a.jsx)(l.An,{percentageFrom:t/360,percentageTo:d/360,radiusFrom:u+15,radiusTo:u+15-h,color:"#ff9800",arcWidth:c}):"",null!==d?(0,a.jsx)(l.gm,{percentage:d/360,width:c,height:c,radius:u-h,type:"circle",color:"#ff9800"}):"",(0,a.jsx)(l.gm,{percentage:t/360,width:c,height:c,radius:u,type:"circle",color:"#000"}),(0,a.jsx)(l.WT,{value:null!==s?s:t,decimalPlace:2,marginBottom:e/2,className:"knob-text"})]})}function h(){const[e,t]=o.useState(45),[n,i]=o.useState(null);return(0,a.jsxs)("div",{children:[(0,a.jsx)(d,{size:120,target:n,origin:"up",min:-9999,max:9999,value:e,onChange:function(e){i(e)}}),(0,a.jsx)(r,{initialPosition:45,onChange:function(e){t(e)},velocity:30,target:n})]})}const g={title:"Async",description:"Example with physical motors"},m=void 0,x={},p=[{value:"Rotative device",id:"rotative-device",level:3},{value:"Rotative device multiturns",id:"rotative-device-multiturns",level:3}];function v(e){const t={h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Such examples show how the component can be used on hardware controller limited\nby a velocity like a motor."}),"\n",(0,a.jsx)(t.h3,{id:"rotative-device",children:"Rotative device"}),"\n",(0,a.jsx)(u,{}),"\n",(0,a.jsx)(t.h3,{id:"rotative-device-multiturns",children:"Rotative device multiturns"}),"\n",(0,a.jsx)(h,{})]})}function f(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(v,{...e})}):v(e)}}}]);